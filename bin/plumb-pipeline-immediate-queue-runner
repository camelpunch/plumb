#!/usr/bin/env ruby

require 'json'
require_relative '../lib/plumb/queue'
require_relative '../lib/plumb/queue_runner'

module Plumb
  module ImmediateQueueRunner
    class << self
      def call
        runner = QueueRunner.new(
          Queue.new('pipeline-immediate-queue'),
          ->{ sleep 1 }
        )
        #builder = Builder.new(
          #GitRepository.new,
          #Reporter.new
        #)

        #loop do
          #runner.run &builder.public_method(:build)
        #end
      end
    end
  end
end
Plumb::ImmediateQueueRunner.call

